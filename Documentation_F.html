<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pipeline Multi-modale</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
    h1 { text-align: center; padding: 20px; color: #333; }
    
    /* Barre de bulles */
    .steps-bar {
      display: flex;
      justify-content: center;
      align-items: center;
      background: #fff;
      padding: 15px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
      gap: 20px;
      flex-wrap: wrap;
    }
    .step {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #ddd;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
    }
    .step.active {
      background: #4CAF50;
      color: #fff;
      transform: scale(1.1);
    }
    .step:hover { background: #66bb6a; color: #fff; }

    /* Sections */
    .content-section {
      display: none;
      background: #fff;
      margin: 20px auto;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 6px rgba(0,0,0,0.1);
      width: 90%;
      max-width: 1000px;
      animation: fadeIn 0.5s ease;
    }
    .content-section.active { display: block; }

    /* Images */
    .images { display: flex; justify-content: center; gap: 20px; margin: 20px 0; flex-wrap: wrap; }
    .images img { width: 320px; height: 220px; object-fit: cover; border-radius: 8px; cursor: pointer; box-shadow: 0 0 8px rgba(0,0,0,0.2); }
    .caption { text-align: center; font-style: italic; margin-top: 5px; }

    video { max-width: 100%; border-radius: 8px; box-shadow: 0 0 8px rgba(0,0,0,0.2); }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

<h1>Pipeline Multi-modale</h1>

<!-- Bulles -->
<div class="steps-bar">
  <div class="step active" onclick="showStep(1)">1</div>
  <div class="step" onclick="showStep(2)">2</div>
  <div class="step" onclick="showStep(3)">3</div>
  <div class="step" onclick="showStep(4)">4</div>
  <div class="step" onclick="showStep(5)">5</div>
  <div class="step" onclick="showStep(6)">6</div>
  <div class="step" onclick="showStep(7)">7</div>
</div>

<!-- Sections -->
<div id="step1" class="content-section active">
  <h2>1️⃣ Data Collection</h2>
  <p>Étape de collecte des données brutes : textes, images, prix, identifiants produits (ASIN), etc. L’outil IMPORTFROMWEB intégré à Google Sheets permet d’automatiser la collecte de données à partir des pages produits du magasin Ponera sur Amazon. Cette automatisation garantit un gain de temps et une fiabilité accrue dans le traitement de l’information. Les données extraites constituent les caractéristiques essentielles qui seront exploitées dans le cadre de l’entraînement et de l’optimisation du modèle d’intelligence artificielle. Parmi ces caractéristiques, on retrouve notamment l’ASIN (identifiant unique du produit sur Amazon), la note moyenne attribuée par les clients, le nombre total de commentaires, le contenu des avis, le titre du produit ainsi que son prix. En structurant et en centralisant ces informations directement dans un tableur, il devient possible de disposer d’une base de données riche, normalisée et facilement exploitable pour les analyses et les applications d’IA.</p>
  <video controls>
    <source src="data_collection.mp4" type="video/mp4">
    Votre navigateur ne supporte pas la lecture vidéo.
  </video>
</div>

<div id="step2" class="content-section">
  <h2>2️⃣ Nettoyage des textes</h2>
  <p>Le texte est nettoyé de manière multilingue :</p>
  <ul>
    <li>Détection automatique de la langue.</li>
    <li>Conversion en minuscules.</li>
    <li>Suppression de la ponctuation.</li>
    <li>Suppression des stopwords selon la langue détectée.</li>
  </ul>
</div>

<div id="step3" class="content-section">
  <h2>3️⃣ Analyse de sentiment (optionnel)</h2>
  <p>Après nettoyage, on peut effectuer une analyse de sentiment :</p>
  <ul>
    <li>Scores positifs, neutres, négatifs.</li>
    <li>Basé sur les scores "compound".</li>
  </ul>
</div>

<div id="step4" class="content-section">
  <h2>4️⃣ Hyperparameter-tuning RandomForest</h2>
  <p>Recherche des meilleurs hyperparamètres pour RandomForest :</p>
  <ul>
    <li><strong>Best RMSE</strong> : 0.4161 avec paramètres <code>n_estimators=220</code>, <code>max_depth=7</code></li>
    <li><strong>Best TF-IDF max_features</strong> : 260 avec RMSE=0.415</li>
  </ul>
  <div class="images">
    <div>
      <img src="RF_hyper.png" alt="Courbe de tuning RandomForest">
      <div class="caption">Variation de la performance selon le nombre d’estimateurs et la profondeur.</div>
    </div>
    <div>
      <img src="RF_hyper_tf_df.png" alt="Optimisation TF-IDF RandomForest">
      <div class="caption">Optimisation conjointe de TF-IDF max_features et RandomForest.</div>
    </div>
  </div>
</div>

<div id="step5" class="content-section">
  <h2>5️⃣ Hyperparameter-tuning CatBoost</h2>
  <p>CatBoost est utilisé pour traiter efficacement les données hétérogènes :</p>
  <ul>
    <li>Support natif des données catégorielles (ex. <code>ASIN</code>).</li>
    <li>Gestion automatique des valeurs manquantes.</li>
    <li>Robuste aux déséquilibres de classes.</li>
  </ul>
  <div class="images">
    <div>
      <img src="cat_hyper.png" alt="Entraînement CatBoost">
      <div class="caption">Exemple d’entraînement CatBoost avec early stopping.</div>
    </div>
    <div>
      <img src="cat_hyper_tf.png" alt="Résultats CatBoost">
      <div class="caption">Comparaison des performances : CatBoost vs RandomForest.</div>
    </div>
  </div>
  <ul>
    <li><strong>Best CatBoost parameters</strong> : {iterations=350, learning_rate=0.3, depth=6} → RMSE = 0.4138</li>
    <li><strong>Best max_features</strong> : 300 → RMSE = 0.3484</li>
  </ul>
</div>

<div id="step6" class="content-section">
  <h2>6️⃣ Schéma global du pipeline</h2>
  <p>De la base brute jusqu’au modèle supervisé :</p>
  <img src="pipeline_diagram.png" alt="Schéma pipeline" style="max-width:100%; border-radius:8px;">
</div>

<div id="step7" class="content-section">
  <h2>7️⃣ Avantages</h2>
  <ul>
    <li>Pipeline complet : collecte → nettoyage → features → modèle.</li>
    <li>Multi-modalité : texte, prix, catégorie, image.</li>
    <li>Standardisation multilingue.</li>
  </ul>
</div>

<script>
  function showStep(step) {
    document.querySelectorAll('.content-section').forEach(sec => sec.classList.remove('active'));
    document.querySelectorAll('.step').forEach(b => b.classList.remove('active'));
    document.getElementById('step' + step).classList.add('active');
    document.querySelector('.steps-bar .step:nth-child(' + step + ')').classList.add('active');
  }
</script>

</body>
</html>
