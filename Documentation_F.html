<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pipeline Multi-modale</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
    h1 { text-align: center; padding: 20px; color: #333; }
    
    /* Barre de bulles */
    .steps-bar {
      display: flex;
      justify-content: center;
      align-items: center;
      background: #fff;
      padding: 15px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
      gap: 20px;
      flex-wrap: wrap;
    }
    .step {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #ddd;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
    }
    .step.active {
      background: #4CAF50;
      color: #fff;
      transform: scale(1.1);
    }
    .step:hover { background: #66bb6a; color: #fff; }

    /* Sections */
    .content-section {
      display: none;
      background: #fff;
      margin: 20px auto;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 6px rgba(0,0,0,0.1);
      width: 90%;
      max-width: 1000px;
      animation: fadeIn 0.5s ease;
    }
    .content-section.active { display: block; }

    /* Images */
    .images { display: flex; justify-content: center; gap: 20px; margin: 20px 0; flex-wrap: wrap; }
    .images img { width: 320px; height: 220px; object-fit: cover; border-radius: 8px; cursor: pointer; box-shadow: 0 0 8px rgba(0,0,0,0.2); }
    .caption { text-align: center; font-style: italic; margin-top: 5px; }

    video { max-width: 100%; border-radius: 8px; box-shadow: 0 0 8px rgba(0,0,0,0.2); }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

<h1>Pipeline Multi-modale</h1>

<!-- Bulles -->
<div class="steps-bar">
  <div class="step active" onclick="showStep(1)">1</div>
  <div class="step" onclick="showStep(2)">2</div>
  <div class="step" onclick="showStep(3)">3</div>
  <div class="step" onclick="showStep(4)">4</div>
  <div class="step" onclick="showStep(5)">5</div>
  <div class="step" onclick="showStep(6)">6</div>
  <div class="step" onclick="showStep(7)">7</div>
</div>

<!-- Sections -->
<div id="step1" class="content-section active">
  <h2>1ï¸âƒ£ Data Collection</h2>
  <p>
    Lâ€™Ã©tape de <strong>collecte des donnÃ©es brutes</strong> consiste Ã  extraire et centraliser toutes les informations nÃ©cessaires Ã  partir des pages produits du magasin <em>Ponera</em> sur Amazon.
  </p>
  
  <h3>ğŸ¯ Objectif</h3>
  <p>
    Constituer une base de donnÃ©es fiable, normalisÃ©e et exploitable qui servira de fondation Ã  lâ€™entraÃ®nement et Ã  lâ€™optimisation du modÃ¨le dâ€™intelligence artificielle.
  </p>

  <h3>âš™ï¸ Outil utilisÃ©</h3>
  <p>
    Lâ€™extension <strong>IMPORTFROMWEB</strong> pour Google Sheets permet dâ€™automatiser la collecte des donnÃ©es produits. 
    Cette automatisation offre :
  </p>
  <ul>
    <li>Un <strong>gain de temps</strong> dans la rÃ©cupÃ©ration des donnÃ©es,</li>
    <li>Une <strong>rÃ©duction des erreurs humaines</strong> liÃ©es Ã  la saisie manuelle,</li>
    <li>Une <strong>mise Ã  jour dynamique</strong> des informations collectÃ©es.</li>
  </ul>

  <h3>ğŸ“¦ DonnÃ©es collectÃ©es</h3>
  <p>Les caractÃ©ristiques extraites incluent :</p>
  <ul>
    <li><strong>ASIN</strong> : identifiant unique du produit sur Amazon,</li>
    <li><strong>Titre du produit</strong>,</li>
    <li><strong>Prix</strong>,</li>
    <li><strong>Note moyenne des clients</strong>,</li>
    <li><strong>Nombre total de commentaires</strong>,</li>
    <li><strong>Contenu des avis clients</strong>.</li>
  </ul>

  <h3>âœ… RÃ©sultat attendu</h3>
  <p>
    Une base de donnÃ©es organisÃ©e dans Google Sheets, rassemblant toutes les informations nÃ©cessaires sous un format uniforme, prÃªte Ã  Ãªtre utilisÃ©e pour les analyses et les applications dâ€™IA.
  </p>

  <video controls>
    <source src="data_collection.mp4" type="video/mp4">
    Votre navigateur ne supporte pas la lecture vidÃ©o.
  </video>
</div>

<div id="step2" class="content-section">
    <h2>2ï¸âƒ£ Nettoyage des textes</h2>
    
    <p>
      Cette Ã©tape consiste Ã  <strong>prÃ©parer et uniformiser la base de donnÃ©es textuelles</strong> afin de garantir la qualitÃ© des informations qui seront utilisÃ©es dans les traitements dâ€™analyse et dans lâ€™entraÃ®nement du modÃ¨le dâ€™intelligence artificielle.  
      Un texte brut contient souvent du bruit (ponctuation, majuscules, mots sans importance, etc.), ce qui peut fausser les rÃ©sultats.  
      Le nettoyage est donc une Ã©tape <strong>indispensable</strong> pour obtenir une base de donnÃ©es plus cohÃ©rente, homogÃ¨ne et exploitable.
    </p>
    
    <h3>ğŸ¯ Objectif</h3>
    <p>
      AmÃ©liorer la qualitÃ© des donnÃ©es textuelles en supprimant les Ã©lÃ©ments inutiles ou redondants, tout en conservant lâ€™information pertinente pour lâ€™analyse.
    </p>
  
    <h3>âš™ï¸ Ã‰tapes de nettoyage</h3>
    <ul>
      <li><strong>DÃ©tection automatique de la langue</strong> : identifier la langue de chaque commentaire pour appliquer un nettoyage adaptÃ©.</li>
      <li><strong>Conversion en minuscules</strong> : uniformiser le texte afin dâ€™Ã©viter les doublons liÃ©s aux majuscules/minuscules.</li>
      <li><strong>Suppression de la ponctuation</strong> : Ã©liminer les caractÃ¨res spÃ©ciaux ou symboles qui nâ€™apportent pas de valeur sÃ©mantique.</li>
      <li><strong>Suppression des stopwords</strong> : retirer les mots vides (ex. : Â« le Â», Â« de Â», Â« et Â» en franÃ§ais ou Â« the Â», Â« and Â», Â« of Â» en anglais) en fonction de la langue dÃ©tectÃ©e.</li>
    </ul>
  
  <h3>âœ… RÃ©sultat attendu</h3>
  <p>
    Ã€ lâ€™issue de cette Ã©tape, la base de donnÃ©es textuelles est <strong>propre, normalisÃ©e et directement exploitable</strong>.  
    Ce processus de prÃ©traitement permet dâ€™amÃ©liorer significativement les performances des algorithmes de traitement du langage naturel (NLP) et de limiter les biais causÃ©s par le bruit prÃ©sent dans les donnÃ©es brutes.
  </p>
  
  <div class="example-block">
    <img src="raw_text_example.png" alt="Exemple de texte brut non nettoyÃ©">
    <div class="caption">ğŸ”´ Exemple de donnÃ©es brutes avant nettoyage.</div>
  </div>
  
  <div class="example-block">
    <img src="cleaned_text_example.png" alt="Exemple de texte nettoyÃ©">
    <div class="caption">ğŸŸ¢ Exemple de donnÃ©es aprÃ¨s nettoyage.</div>
  </div>
</div>


<div id="step3" class="content-section">
  <h2>3ï¸âƒ£ PrÃ©diction de la note produit</h2>

  <p>
    Cette Ã©tape vise Ã  <strong>prÃ©dire la note attendue dâ€™un produit</strong> (sur 5 Ã©toiles) Ã  partir de plusieurs sources dâ€™information. 
    La combinaison de donnÃ©es textuelles, numÃ©riques, catÃ©gorielles et visuelles permet dâ€™obtenir une Ã©valuation fiable de la qualitÃ© perÃ§ue du produit, 
    ainsi quâ€™une estimation du <strong>risque de retour</strong>.
  </p>

  <h3>ğŸ¯ Objectif</h3>
  <p>
    DÃ©terminer automatiquement la note probable dâ€™un produit et identifier les articles susceptibles dâ€™obtenir une mauvaise Ã©valuation (â‰¤ 2 Ã©toiles).
  </p>

  <h3>ğŸ“¦ Features utilisÃ©es</h3>
  <ul>
    <li><strong>Titre du produit (texte)</strong> â†’ vectorisÃ© avec <em>TF-IDF</em> pour extraire les mots-clÃ©s pertinents.</li>
    <li><strong>Prix de vente (numÃ©rique)</strong> â†’ normalisÃ© et complÃ©tÃ© en cas de valeurs manquantes.</li>
    <li><strong>ASIN (catÃ©goriel)</strong> â†’ encodÃ© en vecteurs binaires (One-Hot Encoding).</li>
    <li><strong>Image principale (visuel)</strong> â†’ convertie en vecteur de caractÃ©ristiques via un rÃ©seau de neurones prÃ©-entraÃ®nÃ© (<em>ResNet18 tronquÃ©</em>).</li>
  </ul>

  <h3>âš™ï¸ MÃ©thodologie</h3>
  <p>
    Chaque type de donnÃ©e est traitÃ© avec une mÃ©thode adaptÃ©e :
  </p>
  <ul>
    <li><em>TF-IDF</em> â†’ pondÃ¨re les mots selon leur importance relative dans le corpus.</li>
    <li><em>Normalisation</em> â†’ met les valeurs numÃ©riques (prix) sur une Ã©chelle comparable.</li>
    <li><em>One-Hot Encoding</em> â†’ transforme les identifiants produits en variables exploitables.</li>
    <li><em>Extraction dâ€™images</em> â†’ capture les caractÃ©ristiques visuelles (couleurs, textures, formes) dans un vecteur de 512 dimensions.</li>
  </ul>

  <h3>ğŸ”— Combinaison</h3>
  <p>
    Les reprÃ©sentations issues des diffÃ©rentes sources sont <strong>fusionnÃ©es en un vecteur unique</strong>, 
    utilisÃ© comme entrÃ©e pour le modÃ¨le prÃ©dictif.  
    Cette approche multi-modale amÃ©liore la prÃ©cision en exploitant simultanÃ©ment :
  </p>
  <ul>
    <li>le texte (description du produit),</li>
    <li>les donnÃ©es chiffrÃ©es (prix),</li>
    <li>les identifiants (ASIN),</li>
    <li>les signaux visuels (image).</li>
  </ul>

  <h3>âœ… RÃ©sultat attendu</h3>
  <p>
    Le systÃ¨me gÃ©nÃ¨re :
  </p>
  <ul>
    <li>Une <strong>note prÃ©dite</strong> (<code>rating_pred</code>, entre 1 et 5).</li>
    <li>Une <strong>estimation du risque de retour.</strong></li>
  </ul>

  <!-- Conteneur pour le flowchart en PNG -->
  <div style="text-align:center; margin:20px 0;">
    <img src="flowchart.png" alt="Flowchart" style="max-width:800px; width:100%; height:auto;">
  </div>
</div>





<div id="step4" class="content-section">
  <h2>4ï¸âƒ£ Optimisation des hyperparamÃ¨tres du modÃ¨le</h2>

  <p>
    Cette Ã©tape consiste Ã  <strong>optimiser les performances dâ€™un modÃ¨le dâ€™ensemble de type RandomForest</strong> appliquÃ© Ã  la prÃ©diction de la note produit. 
    RandomForest est une mÃ©thode basÃ©e sur la combinaison de plusieurs arbres de dÃ©cision, ce qui permet de rÃ©duire la variance et dâ€™amÃ©liorer la robustesse de la prÃ©diction.
  </p>

  <h3>ğŸ¯ MÃ©thodologie</h3>
  <p>
    Les donnÃ©es prÃ©parÃ©es prÃ©cÃ©demment (texte TF-IDF, prix normalisÃ©, identifiants produits encodÃ©s et vecteurs dâ€™images) sont <strong>concatÃ©nÃ©es en un vecteur unique</strong> pour servir dâ€™entrÃ©e au modÃ¨le. 
    Ensuite, nous effectuons une recherche dâ€™hyperparamÃ¨tres pour identifier la configuration qui minimise lâ€™erreur de prÃ©diction.
  </p>
  <ul>
    <li><strong>n_estimators</strong> : nombre dâ€™arbres dans la forÃªt.</li>
    <li><strong>max_depth</strong> : profondeur maximale de chaque arbre.</li>
    <li><strong>max_features (TF-IDF)</strong> : nombre maximal de mots-clÃ©s pris en compte dans la vectorisation du texte.</li>
  </ul>
  <p>
    Pour chaque combinaison de paramÃ¨tres, nous calculons la <strong>Root Mean Squared Error (RMSE)</strong> sur le jeu de test afin de dÃ©terminer les rÃ©glages optimaux.
  </p>

  <h3>ğŸ“Š RÃ©sultats</h3>
  <ul>
    <li><strong>Meilleure RMSE :</strong> 0.4161 avec <code>n_estimators=220</code> et <code>max_depth=7</code></li>
    <li><strong>Meilleur nombre de features TF-IDF :</strong> 260, donnant une RMSE=0.415</li>
  </ul>

  <div class="images">
    <div>
      <img src="RF_hyper.png" alt="Courbe de tuning RandomForest">
      <div class="caption">Variation de la performance selon le nombre dâ€™estimateurs et la profondeur.</div>
    </div>
    <div>
      <img src="RF_hyper_tf_df.png" alt="Optimisation TF-IDF RandomForest">
      <div class="caption">Optimisation conjointe de TF-IDF max_features et des paramÃ¨tres RandomForest.</div>
    </div>
  </div>

  <h3>âœ… Conclusion</h3>
  <p>
    Lâ€™utilisation de RandomForest sur les donnÃ©es multi-modales concatÃ©nÃ©es (texte, numÃ©rique, catÃ©goriel et visuel) a permis dâ€™obtenir des prÃ©dictions fiables des notes produits. 
    La recherche dâ€™hyperparamÃ¨tres a montrÃ© que <code>n_estimators=220</code>, <code>max_depth=7</code> et <code>max_features=260</code> pour la TF-IDF offrent un bon compromis entre prÃ©cision et complexitÃ©. 
    Cette configuration garantit que le modÃ¨le exploite efficacement toutes les caractÃ©ristiques extraites tout en restant stable et gÃ©nÃ©ralisable sur de nouvelles donnÃ©es.
  </p>
</div>

</div>

<div id="step5" class="content-section">
  <h2>5ï¸âƒ£ Hyperparameter-tuning CatBoost</h2>
  <p>CatBoost est utilisÃ© pour traiter efficacement les donnÃ©es hÃ©tÃ©rogÃ¨nes :</p>
  <ul>
    <li>Support natif des donnÃ©es catÃ©gorielles (ex. <code>ASIN</code>).</li>
    <li>Gestion automatique des valeurs manquantes.</li>
    <li>Robuste aux dÃ©sÃ©quilibres de classes.</li>
  </ul>
  <div class="images">
    <div>
      <img src="cat_hyper.png" alt="EntraÃ®nement CatBoost">
      <div class="caption">Exemple dâ€™entraÃ®nement CatBoost avec early stopping.</div>
    </div>
    <div>
      <img src="cat_hyper_tf.png" alt="RÃ©sultats CatBoost">
      <div class="caption">Comparaison des performances : CatBoost vs RandomForest.</div>
    </div>
  </div>
  <ul>
    <li><strong>Best CatBoost parameters</strong> : {iterations=350, learning_rate=0.3, depth=6} â†’ RMSE = 0.4138</li>
    <li><strong>Best max_features</strong> : 300 â†’ RMSE = 0.3484</li>
  </ul>
</div>

<div id="step6" class="content-section">
  <h2>6ï¸âƒ£ SchÃ©ma global du pipeline</h2>
  <p>De la base brute jusquâ€™au modÃ¨le supervisÃ© :</p>
  <img src="pipeline_diagram.png" alt="SchÃ©ma pipeline" style="max-width:100%; border-radius:8px;">
</div>

<div id="step7" class="content-section">
  <h2>7ï¸âƒ£ Avantages</h2>
  <ul>
    <li>Pipeline complet : collecte â†’ nettoyage â†’ features â†’ modÃ¨le.</li>
    <li>Multi-modalitÃ© : texte, prix, catÃ©gorie, image.</li>
    <li>Standardisation multilingue.</li>
  </ul>
</div>

<script>
  function showStep(step) {
    document.querySelectorAll('.content-section').forEach(sec => sec.classList.remove('active'));
    document.querySelectorAll('.step').forEach(b => b.classList.remove('active'));
    document.getElementById('step' + step).classList.add('active');
    document.querySelector('.steps-bar .step:nth-child(' + step + ')').classList.add('active');
  }
</script>

</body>
</html>
